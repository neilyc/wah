'use strict';

;(function (window) {
  'use strict';

  var modal, modalImg, close, self;
  function Modal(elem, options) {
    self = this;
    self.elem = elem;
    self._init();
    self.options = extend(self.defaults, options);

    if (self.elem) {
      ;
      Array.prototype.forEach.call(document.querySelectorAll(self.elem), function (item) {
        item.addEventListener('click', self._open);
      });
    }

    modal.addEventListener('click', self._close);
  };
  Modal.prototype = {
    defaults: {},
    _init: function _init() {
      modal = document.createElement("div");
      modal.className = "modal";

      close = document.createElement("span");
      close.className = "close";
      close.innerHTML = "&times;";

      modalImg = document.createElement("img");
      modalImg.className = "modal-content";

      modal.appendChild(close);
      modal.appendChild(modalImg);
      document.body.appendChild(modal);
    },
    _open: function _open(e) {
      modalImg.src = e.target.src;
      modal.style.display = "block";
    },
    _close: function _close() {
      modal.style.display = "none";
    },
    open: function open(e) {
      if (e.target.classList.contains('img')) {
        self._open(e);
      }
    }
  };
  function extend(a, b) {
    for (var key in b) {
      if (b.hasOwnProperty(key)) {
        a[key] = b[key];
      }
    }
    return a;
  }
  window.Modal = Modal;
})(window);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var App = function () {
  function App() {
    _classCallCheck(this, App);

    self = this;
    self._init();
  }

  _createClass(App, [{
    key: '_init',
    value: function _init() {
      document.querySelector('.toggle-nav').addEventListener('click', function () {
        document.querySelector('.topnav').classList.toggle("responsive");
      });

      window.onload = function () {
        document.body.classList.add("loaded");
      };

      window.onscroll = function (e) {
        self._toggleTopNav();
      };
      self._menuCheckActive();

      if (document.querySelector('.photos')) {
        new Modal('.img');
      }
    }
  }, {
    key: '_toggleTopNav',
    value: function _toggleTopNav() {
      var scrollTop = Math.abs(document.body.getBoundingClientRect().top),
          header = document.querySelector('.header'),
          headerHeight = header.clientHeight - document.querySelector('.topnav-container').clientHeight;

      if (scrollTop > headerHeight) {
        header.classList.add('down');
      }
      if (scrollTop < header.clientHeight) {
        header.classList.remove('down');
      }
    }
  }, {
    key: '_menuCheckActive',
    value: function _menuCheckActive() {
      var urlMatch = false,
          path = decodeURIComponent(window.location.pathname),
          href;

      Array.prototype.forEach.call(document.querySelectorAll('.topnav li a'), function (elem) {
        href = elem.getAttribute('href');
        if (path.substring(0, href.length) === href && href != '/') {
          elem.classList.add('active');
        }
      });
    }
  }, {
    key: 'initMap',
    value: function initMap() {
      var map = new google.maps.Map(document.querySelector('.map-container'), {
        center: COORD,
        zoom: 16
      });

      new google.maps.Marker({
        position: COORD,
        map: map
      });
    }
  }]);

  return App;
}();